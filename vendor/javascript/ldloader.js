// ldloader@3.0.3 downloaded from https://ga.jspm.io/npm:ldloader@3.0.3/index.min.js

var n=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var r={};var e={exports:r};!function(){var r;function t(n,r){var e,o={}.hasOwnProperty;for(e in r)o.call(r,e)&&(n[e]=r[e]);return n}(r=function(r){var e=this||n;return null==r&&(r={}),(this||n).opt=t({activeClass:"running",baseZ:4e3,autoZ:!1,className:"",atomic:!0},r),(this||n)._toggler="function"==typeof r.toggler?r.toggler:function(){},r.zmgr&&this.zmgr(r.zmgr),["root","container"].map((function(n){var o;if(r[n])return o=Array.isArray(r[n])?r[n]:r[n]instanceof NodeList?Array.from(r[n]):[r[n]],e[n]=o.map((function(n){var r="string"==typeof n?document.querySelector(n):n;return r||console.warn("[ldloader] warning: no node found for "+n),r}))})),(this||n).container||((this||n).container=(this||n).root?(this||n).root.map((function(n){return n.parentNode})):[document.body]),(this||n).root||((this||n).root=(this||n).container.map((function(n){var r=document.createElement("div");return n.appendChild(r),r}))),(this||n).root.map((function(n){if(n.classList.add.apply(n.classList,(e.opt.className||"").split(" ").filter((function(n){return n}))),n.classList.remove(r.activeClass),r.inactiveClass)return n.classList.add(r.inactiveClass)})),(this||n).running=!1,(this||n).count=0,this||n}).prototype=t(Object.create(Object.prototype),{zmgr:function(r){return null!=r?(this||n)._zmgr=r:(this||n)._zmgr},isOn:function(){return(this||n).running},on:function(n){return this.toggle(!0,n=null==n?0:n)},off:function(n,r){return this.toggle(!1,n=null==n?0:n,r=null!=r&&r)},cancel:function(r){if(clearTimeout((this||n).handle),null!=r)return this.toggle(r)},flash:function(r,e){var o=this||n;return null==r&&(r=1e3),null==e&&(e=0),this.toggle(!0,e).then((function(){return o.toggle(!1,r+e)}))},render:function(){var r,e,o=this||n;return(this||n).running&&(this||n).opt.ctrl&&(this||n).opt.ctrl.step?((this||n).render.runid=r=Math.random(),(this||n).render.start=0,(this||n).opt.ctrl.init&&(this||n).root.map((function(n){return o.opt.ctrl.init.call(n)})),e=function(n){return o.render.start||(o.render.start=n),o.root.map((function(r){return o.opt.ctrl.step.call(r,n-o.render.start)})),o.render.runid===r?requestAnimationFrame((function(n){return e(n)})):o.opt.ctrl.done?o.root.map((function(r){return o.opt.ctrl.done.call(r,n-o.render.start)})):void 0},requestAnimationFrame((function(n){return e(n)}))):(this||n).render.runid=-1},toggle:function(e,o,i){var s,a=this||n;return null==o&&(o=0),null==i&&(i=!1),s=null==e?(this||n).root[0].classList.contains((this||n).opt.activeClass)?-1:1:e?1:-1,(this||n).handle&&this.cancel(),o?new Promise((function(n,r){return a.handle=setTimeout((function(){return a.toggle(e).then((function(){return n()}))}),o)})):new Promise((function(n,e){var o,u;return a.count=0<(o=a.count+s)?o:0,(i||a.opt.atomic||!(2<=a.count||1===a.count&&s<0))&&(a.root.map((function(n){if(n.classList.toggle(a.opt.activeClass,0<s),a.opt.inactiveClass)return n.classList.toggle(a.opt.inactiveClass,s<0)})),a.running=o=a.root[0].classList.contains(a.opt.activeClass),a.opt.ctrl&&a.render(),a.opt.autoZ)&&(u=a._zmgr||r._zmgr,o?(a.z=u.add(a.opt.baseZ),a.root.map((function(n){return n.style.zIndex=a.z}))):u.remove(a.z)),n()})).then((function(){return a._toggler(0<s)}))}}),t(r,{_zmgr:{add:function(r){return((this||n).s||((this||n).s=[])).push(r=Math.max(r||0,((r=(this||n).s)[r.length-1]||0)+1)),r},remove:function(r){if(!((r=((this||n).s||((this||n).s=[])).indexOf(r))<0))return(this||n).s.splice(r,1)}},zmgr:function(r){return null!=r?(this||n)._zmgr=r:(this||n)._zmgr}}),null!==e?e.exports=r:"undefined"!=typeof window&&null!==window&&(window.ldloader=r)}.call(r);var o=e.exports;export{o as default};

